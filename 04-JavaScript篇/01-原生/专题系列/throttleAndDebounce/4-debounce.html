<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<script>
		// 防抖优化:添加理解执行，添加函数返回值，添加取消函数
		function debounce(fn,interval,immediate){
			var timer,result
			function debounced(){
				var context = this
				var args = arguments
				if(timer){
					clearTimeout(timer)
				}
				if(immediate){
					var isContinue = !timer
					timer = setTimeout(() => {
						timer = null
					},interval)
					if(isContinue){
						result = fn.apply(context,args)
					}
				}
				else{
					timer = setTimeout(() => {
						fn.apply(context,args)
					},interval)
				}
				return result
			}
			debounced.cancel = function(){
				clearTimeout(timer)
				timer = null
			}
			return debounced
		}
	</script>
</html>
